# DNS 配置指南 - zhanbing.site

## 🚨 当前问题

你的域名 `zhanbing.site` 目前指向错误的 IP 地址：
- 当前 IP：`82.25.95.145` 和 `84.32.84.32` ❌
- 正确 IP：GitHub Pages 的 IP 地址 ✅

## 📋 需要修改的 DNS 记录

### 删除现有的错误记录
删除所有指向以下 IP 的 A 记录：
- `82.25.95.145`
- `84.32.84.32`

### 添加正确的 GitHub Pages A 记录

在你的域名注册商（购买 zhanbing.site 的地方）添加以下 A 记录：

```
记录类型: A
主机记录: @
记录值: 185.199.108.153
TTL: 3600

记录类型: A
主机记录: @
记录值: 185.199.109.153
TTL: 3600

记录类型: A
主机记录: @
记录值: 185.199.110.153
TTL: 3600

记录类型: A
主机记录: @
记录值: 185.199.111.153
TTL: 3600
```

## 🌐 常见域名注册商配置方法

### 阿里云（万网）
1. 登录阿里云控制台
2. 进入"域名"管理
3. 点击"解析"
4. 删除现有的 A 记录
5. 添加上述 4 条 A 记录

### 腾讯云
1. 登录腾讯云控制台
2. 进入"域名注册"
3. 点击"解析"
4. 删除现有的 A 记录
5. 添加上述 4 条 A 记录

### Cloudflare
1. 登录 Cloudflare 控制台
2. 选择你的域名
3. 进入 DNS 管理
4. 删除现有的 A 记录
5. 添加上述 4 条 A 记录
6. 确保代理状态为"仅 DNS"（灰色云朵）

### GoDaddy
1. 登录 GoDaddy 账户
2. 进入"我的产品"
3. 点击域名旁的"DNS"
4. 删除现有的 A 记录
5. 添加上述 4 条 A 记录

## ✅ 验证步骤

### 1. 等待 DNS 传播
DNS 更改通常需要 1-24 小时生效，有时可能需要 48 小时。

### 2. 检查 DNS 传播状态
使用以下工具检查全球 DNS 传播状态：
- https://www.whatsmydns.net/
- https://dnschecker.org/
- https://dns.google/

### 3. 命令行验证
```bash
# 检查 A 记录
nslookup zhanbing.site

# 或使用 dig
dig zhanbing.site

# 期望看到的结果：
# 185.199.108.153
# 185.199.109.153  
# 185.199.110.153
# 185.199.111.153
```

## 🔒 HTTPS 配置

### DNS 配置完成后：
1. 等待 DNS 完全传播（可能需要几小时）
2. 访问 GitHub 仓库设置：https://github.com/Zhanbingli/zhanbing/settings/pages
3. 确认自定义域名显示为 `zhanbing.site`
4. 等待 GitHub 自动生成 SSL 证书（可能需要几分钟到几小时）
5. 勾选 "Enforce HTTPS" 选项

### 如果 HTTPS 仍然不可用：
- 等待更长时间（最多 24 小时）
- 尝试删除并重新添加自定义域名
- 检查域名是否有其他 DNS 记录冲突

## 🕐 时间线预期

1. **立即**：修改 DNS 记录
2. **1-6 小时**：DNS 开始传播
3. **6-24 小时**：DNS 完全传播
4. **DNS 传播后 1-6 小时**：GitHub 生成 SSL 证书
5. **SSL 证书生成后**：可以启用 HTTPS

## 🆘 故障排除

### 如果 24 小时后仍然有问题：
1. 确认所有旧的 DNS 记录都已删除
2. 检查是否有 CNAME 记录冲突
3. 联系域名注册商技术支持
4. 在 GitHub 中删除并重新添加自定义域名

### 常见错误：
- **混合记录类型**：不要同时使用 A 记录和 CNAME 记录指向根域名
- **TTL 过长**：如果 TTL 设置过长，DNS 更改会很慢
- **缓存问题**：清除本地 DNS 缓存 `sudo dscacheutil -flushcache`

## 📞 需要帮助？

如果遇到问题，请提供：
1. 域名注册商名称
2. 当前 DNS 记录截图
3. `nslookup zhanbing.site` 的输出结果

---

**重要提醒**：在 DNS 配置完成并传播之前，不要启用 HTTPS。GitHub 需要先验证域名所有权才能生成 SSL 证书。 